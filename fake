(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{2548:function(c,a,b){"use strict";var d,e=b(7294);function f(){return(f=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}a.Z=function(a){return e.createElement("svg",f({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("path",{d:"M8.707 3.293a1 1 0 0 1 0 1.414L4.415 9H18a1 1 0 0 1 0 2H4.415l4.292 4.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0l-6-6-.073-.082a1.005 1.005 0 0 1-.007-.008l.08.09A1.008 1.008 0 0 1 1 10.02v-.037c0-.024.002-.048.004-.071L1 10a1.008 1.008 0 0 1 .213-.617.97.97 0 0 1 .08-.09l6-6a1 1 0 0 1 1.414 0z",fill:"currentColor",fillRule:"evenodd"})))}},8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(9632)}])},7148:function(h,e,b){"use strict";b.d(e,{az:function(){return g}});var f,g,a,c,i=b(5893),j=b(745),k=b(8847);(a=f||(f={}))[a.SUCCESS=0]="SUCCESS",a[a.ERROR=1]="ERROR",a[a.INFO=2]="INFO",a[a.TIPS=3]="TIPS",(c=g||(g={}))[c.TOP_CENTER=0]="TOP_CENTER",c[c.CENTER=1]="CENTER";var l=null,m=null,n=function(a){var e=a.content,b=a.type,c=a.position,d=o(b),f=p(b),h=c===g.CENTER?"top-1/2 -translate-y-1/2":"top-0",j=c===g.CENTER?"":(0,k.tq)()?"mt-[60px]":"mt-[80px]";return(0,i.jsx)("div",{className:"fixed left-1/2 flex -translate-x-1/2 ".concat(h," z-[1000] justify-center"),children:(0,i.jsxs)("div",{className:"relative flex items-center xl:max-w-lg ".concat(j," ").concat(f," h-fit gap-2 whitespace-nowrap rounded-lg py-3 px-4 text-[14px] text-white"),children:[d&&(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:d,fill:"currentColor",fillRule:"evenodd"})}),e]})})};function o(a){switch(a){case f.SUCCESS:return"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm3.943 5.057a1.333 1.333 0 0 0-1.886 0L7 8.114 5.943 7.057l-.085-.078a1.333 1.333 0 0 0-1.8 1.964l2 2 .084.078a1.333 1.333 0 0 0 1.8-.078l4-4 .079-.085a1.333 1.333 0 0 0-.078-1.8z";case f.TIPS:return"";default:return"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zm0 10.667a1.333 1.333 0 1 0 0 2.666 1.333 1.333 0 0 0 0-2.666zm0-8c-.736 0-1.333.597-1.333 1.333v4a1.333 1.333 0 1 0 2.666 0V4c0-.736-.597-1.333-1.333-1.333z"}}function p(a){switch(a){case f.INFO:return"bg-yellow";case f.TIPS:return"bg-black-95";case f.SUCCESS:return"bg-green";default:return"bg-red"}}function q(a,b){var c=a.content,d=a.type,e=a.position;l&&m||(l=document.createElement("div"),document.body.appendChild(l),m=(0,j.createRoot)(l)),m.render((0,i.jsx)(n,{content:c,type:d,position:e})),setTimeout(function(){null==m||m.unmount(),m=null},b||3e5)}var d=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.TOP_CENTER,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;q({content:a,position:b,type:f.ERROR},c)};d.success=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.TOP_CENTER,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;q({content:a,position:b,type:f.SUCCESS},c)},d.info=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.TOP_CENTER,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;q({content:a,position:b,type:f.INFO},c)},d.tips=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.TOP_CENTER,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;q({content:a,position:b,type:f.TIPS},c)},e.ZP=d},219:function(c,b,a){"use strict";var d=a(5893),e=a(7294);b.Z=function(a){var f=a.onChange,g=a.children,b=a.disabled,h=a.onClick,c=(0,e.useId)();return(0,d.jsxs)("label",{htmlFor:c,className:"cursor-pointer",children:[g,(0,d.jsx)("input",{type:b?"":"file",className:"hidden",accept:"image/*",id:c,onChange:b?null:f,onClick:h})]})}},1434:function(c,b,a){"use strict";a.d(b,{f:function(){return e}});var d=a(4924),e=(0,a(6902).ZP)(function(a){return{visible:!1,submitting:!1,sourceImg:null,targetFace:null,resultUrl:"",loadingText:"",setState:function(b,c){return a((0,d.Z)({},b,c))},setSourceImg:function(b){return a({sourceImg:b})},setTargetFace:function(b){return a({targetFace:b})},resetAll:function(){return a({visible:!1,submitting:!1,sourceImg:null,targetFace:null,resultUrl:"",loadingText:""})}}})},3293:function(c,b,a){"use strict";a.d(b,{a:function(){return e}});var d=a(4924),e=(0,a(6902).ZP)(function(a){return{dailyLimited:!1,maxExceedLimited:!1,setBoolean:function(b,c){return a((0,d.Z)({},b,c))},closeAll:function(){return a({dailyLimited:!1,maxExceedLimited:!1})}}})},9924:function(j,d,a){"use strict";a.d(d,{Z:function(){return z}});var e,f,g,h,b=a(7568),k=a(828),i=a(4051),c=a.n(i),l=a(7294),m=a(374),n=a(1798),o=a(7148),p=a(8910),q=a(5844),r=(e=(0,b.Z)(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,q.v_)("/anon/users/me/models/face-swap/tasks",b);case 2:return d=a.sent,a.abrupt("return",d.data);case 4:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)}),s=(f=(0,b.Z)(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,q.v_)("/anon/v1/users/me/files/".concat(b,"/face-detections"));case 2:return d=a.sent,a.abrupt("return",d.data);case 4:case"end":return a.stop()}},a)})),function(a){return f.apply(this,arguments)}),t=(g=(0,b.Z)(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,q.U2)("/anon/users/me/processing/tasks",{taskIds:b});case 2:return d=a.sent,a.abrupt("return",d.data);case 4:case"end":return a.stop()}},a)})),function(a){return g.apply(this,arguments)}),u=(h=(0,b.Z)(c().mark(function a(b){var d;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,q.U2)("/anon/users/me/tasks/".concat(b));case 2:return d=a.sent,a.abrupt("return",d.data);case 4:case"end":return a.stop()}},a)})),function(a){return h.apply(this,arguments)}),v=a(3043),w=a(1434),x=a(3293),y=a(7770),z=function(){var e,f,g,h,q=(0,n.$G)(["deepfake"]).t,z=(0,l.useRef)(null),d=(0,x.a)(function(a){return{closeAll:a.closeAll,setVisible:a.setBoolean}},m.Z),A=d.setVisible,B=d.closeAll,a=(0,w.f)(function(a){return{setState:a.setState,setSourceImg:a.setSourceImg,setTargetFace:a.setTargetFace,sourceImg:a.sourceImg,targetFace:a.targetFace}},m.Z),C=a.setState,D=a.setSourceImg,E=a.setTargetFace,F=a.sourceImg,G=a.targetFace,H=function(a){return new Promise(function(c){var b=new Image;b.src=a,b.onload=function(){var d=b.width,e=b.height,f=Math.max(Math.ceil(d/1024*100)/100,Math.ceil(e/1536*100)/100),a=document.createElement("canvas");a.width=1024,a.height=1536;var g=a.getContext("2d");g.fillStyle="rgba(255, 255, 255, 0)";var h=Math.floor(d/f),i=Math.floor(e/f);g.drawImage(b,(1024-h)/2,(1536-i)/2,h,i),a.toBlob(function(a){c({file:new File([a],(0,v.Z)(8),{type:"image/png"}),url:URL.createObjectURL(a)})})}})},i=(e=(0,b.Z)(c().mark(function a(b,d){var e,f,g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(!(e=b.target.files[0]).type.includes("image")||["image/gif","image/apng","image/tiff"].includes(e.type))){a.next=4;break}throw Error("File format is not supported");case 4:if(f={file:e,url:URL.createObjectURL(e)},"source"!==d){a.next=13;break}return a.next=8,H(f.url);case 8:D(g=a.sent),C("visible",!0),a.next=14;break;case 13:E(f);case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),(0,o.ZP)(a.t0.message);case 19:return a.prev=19,b.target.value=null,a.finish(19);case 22:case"end":return a.stop()}},a,null,[[0,16,19,22]])})),function(a,b){return e.apply(this,arguments)}),I=function(){z.current&&clearTimeout(z.current)},J=(f=(0,b.Z)(c().mark(function a(b){var d,e;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u(b);case 3:C("resultUrl",(e=(d=a.sent).fileInfos)[0].fileUrl),C("submitting",!1),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),C("submitting",!1),(0,o.ZP)(a.t0.message);case 13:case"end":return a.stop()}},a,null,[[0,9]])})),function(a){return f.apply(this,arguments)}),K=(g=(0,b.Z)(c().mark(function a(b){var d,e;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t(b);case 3:2===(e=(d=a.sent)[0].status)?(I(),J(b)):z.current=setTimeout(function(){return K(b)},1500),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),C("submitting",!1),(0,o.ZP)(a.t0.message);case 12:case"end":return a.stop()}},a,null,[[0,8]])})),function(a){return g.apply(this,arguments)}),j=(h=(0,b.Z)(c().mark(function a(){var b,d,e,f,g;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,B(),C("loadingText",q("uploading")),C("submitting",!0),a.t0=k.Z,a.next=7,Promise.all([(0,p.ZP)(F.file,y.Gk.MATERIAL,{anymous:!0}),(0,p.ZP)(G.file,y.Gk.FACE,{anymous:!0})]);case 7:return a.t1=a.sent,d=(b=(0,a.t0)(a.t1,2))[0],e=b[1],C("loadingText",q("ai_analyzing")),a.next=14,s(e.fileId);case 14:return f=a.sent,C("loadingText",q("creating")),a.next=18,r({fileId:d.fileId,faceId:f[0].faceId});case 18:K(g=a.sent.taskId),a.next=34;break;case 22:if(a.prev=22,a.t2=a.catch(0),C("submitting",!1),302!==a.t2.code){a.next=30;break}return A("dailyLimited",!0),a.abrupt("return");case 30:if(806!==a.t2.code){a.next=33;break}return A("maxExceedLimited",!0),a.abrupt("return");case 33:(0,o.ZP)(a.t2.message);case 34:case"end":return a.stop()}},a,null,[[0,22]])})),function(){return h.apply(this,arguments)});return{upload:i,createTask:j}}},9680:function(c,a,b){"use strict";b.d(a,{y:function(){return d}});var d=function(a){var c=a.width,d=a.height,e=a.containerWidth,f=a.containerHeight,b=Math.min(e/(c||1),f/(d||1))||1;return{scale:b,scaledDimensionsStyle:{width:b*c,height:b*d}}}},7523:function(j,h,i){"use strict";function c(a){return"rgba(".concat(a[0],", ").concat(a[1],", ").concat(a[2],", ").concat(a[3]/255,")")}i.d(h,{Bb:function(){return f},LQ:function(){return e},Y4:function(){return k},Zr:function(){return m},bn:function(){return l},so:function(){return d},vg:function(){return n}});var d,e,a,f=[66,63,255,127.5];a=f.slice(0,3),"rgb(".concat(a[0],", ").concat(a[1],", ").concat(a[2],")");var b,g,k=c(f),l=c([66,63,255,.24*255]),m="#1661ff";(b=d||(d={})).DRAWING="rgba(0, 0, 0, 0.24)",b.STILL="rgba(0, 0, 0, 0.48)",b.ADD="#00c7be",b.REMOVE="#ff375f",(g=e||(e={})).DRAWING="rgba(255, 255, 255, 0.88)",g.STILL="rgba(255, 255, 255, 0.88)";var n={shadowColor:"rgb(0, 0, 0)",shadowBlur:4,shadowOffsetX:0,shadowOffsetY:0,shadowOpacity:.5,shadowEnabled:!0}},7890:function(c,b,a){"use strict";a.d(b,{Yv:function(){return E},z_:function(){return q},lm:function(){return t},o5:function(){return r},wQ:function(){return x},e9:function(){return m},i7:function(){return u},CO:function(){return F},"_2":function(){return y}});var d=a(828),e=a(9815),f=a(9068),g=a(7523),h=function(a){return a.split(" ").map(function(a){return parseInt(a)})},i=function(f,a){for(var k=[],b={line:-1,points:[]},c=0,g=function(){b.points.length>0&&(k.push({line:b.line,points:b.points}),b.points=[])},d=1;d<f.length;d+=2){var l=(c+=f[d-1])%a,e=Math.floor(c/a),h=(c+=f[d])%a,i=Math.floor(c/a);if(b.line!==e&&(g(),b.line=e),e===i){b.points.push(l,h);continue}b.points.push(l,a),g(),b.line=i;for(var j=e+1;j<i;j++)k.push({line:j,points:[0,a]});h>0&&b.points.push(0,h)}return g(),k},j=function(y,z){var s=i(y,z);if(0===s.length)return new Map;var A=new Map,a=-1,b=[],C=new Map,D=function(c,d){var a="".concat(c.x," ").concat(c.y),b="".concat(d.x," ").concat(d.y);A.has(a)||A.set(a,new Set),A.get(a).add(b),A.has(b)||A.set(b,new Set),A.get(b).add(a)},E=function(a,b){b!==C.get(a)&&(D({x:C.get(a),y:a},{x:b,y:a}),C.delete(a))},n=function(d,a,f,b){if(a===b){C.has(a)||C.set(a,d);return}var e=!1,c=Math.max(d,f);C.has(a)&&(E(a,c),e=!0),C.has(b)&&(E(b,c),e=!0),e?D({x:c,y:a},{x:c,y:b}):D({x:d,y:a},{x:f,y:b})},t=function(a,b){var d=!0,f=!1,g=void 0;try{for(var h,e=b[Symbol.iterator]();!(d=(h=e.next()).done);d=!0){var i=h.value;n(a,i,a+1,i)}}catch(j){f=!0,g=j}finally{try{d||null==e.return||e.return()}finally{if(f)throw g}}for(var c=1;c<b.length;c+=2)n(a+1,b[c-1],a+1,b[c])},p=!0,u=!1,v=void 0;try{for(var w,q=s[Symbol.iterator]();!(p=(w=q.next()).done);p=!0){var x=w.value,c=x.line,g=x.points;c!==a+1&&(t(a,b),a=c-1,b=[]);for(var j=b.length&&b[0]<=g[0]?a:c,k=j===a?b[0]:g[0],l=j===a?1:0,o=j===a?0:1,r=!0;l<b.length||o<g.length;){var m=void 0,f=void 0;l===b.length||g[o]<b[l]?(m=c,f=g[o],o++):(m=a,f=b[l],l++),r&&(j===a&&m===a?(n(a,k,c,k),n(a,f,c,f),n(c,k,c,f)):n(j,k,m,f)),r=!r,j=m,k=f}a=c,b=g}}catch(B){u=!0,v=B}finally{try{p||null==q.return||q.return()}finally{if(u)throw v}}return t(a,b),new Map((0,e.Z)(A).sort(function(f,g){var a=(0,d.Z)(h(f[0]),2),b=a[0],i=a[1],c=(0,d.Z)(h(g[0]),2),e=c[0],j=c[1];return b===e?i-j:b-e}))},k=function(b){for(var j=[];b.size;){for(var k=(0,d.Z)(b.entries().next().value,2),c=k[0],e=k[1],l=c,m=[h(l)],a=null;a!==l;){a=e.values().next().value,m.push(h(a)),e.delete(a),0===e.size&&b.delete(c);var g=b.get(a);if(g.delete(c),0===g.size){b.delete(a);break}c=a,e=g}j.push(m)}var t=[],q=[],u=document.createElement("canvas").getContext("2d"),i=!0,n=!1,o=void 0;try{for(var p,r=function(s,l){var a=l.value,b=!1,f=(0,d.Z)(a[0],2),m=f[0],n=f[1],c=!0,g=!1,h=void 0;try{for(var i,e=t[Symbol.iterator]();!(c=(i=e.next()).done);c=!0){var o=i.value;u.isPointInPath(o,m+.5,n+.5)&&(b=!b)}}catch(p){g=!0,h=p}finally{try{c||null==e.return||e.return()}finally{if(g)throw h}}b&&a.reverse();var r=a.slice(1).map(function(b){var a=(0,d.Z)(b,2),c=a[0],e=a[1];return"".concat(c," ").concat(e)}).join(" "),j="M".concat(a[0][0]," ").concat(a[0][1]," L")+r;q.push(j);var k=new Path2D(j);u.fill(k),t.push(k)},f=j[Symbol.iterator]();!(i=(p=f.next()).done);i=!0)r(f,p)}catch(s){n=!0,o=s}finally{try{i||null==f.return||f.return()}finally{if(n)throw o}}return q},l=a(185);function m(a){return a.length&&a[0].length?n(function(b){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.Bb,c=b[0].length,e=b.length,a=(0,d.Z)(f,4),i=a[0],j=a[1],k=a[2],l=a[3],h=new Uint8ClampedArray(4*c*e).fill(0);return D(b,function(b,d,e){if(b>0){var a=4*(d*c+e);h[a]=i,h[a+1]=j,h[a+2]=k,h[a+3]=l}}),new ImageData(h,c,e)}(a)):null}function n(b){var c=o(b),a=new Image;return a.src=c.toDataURL(),a}function o(b){var a=document.createElement("canvas"),c=a.getContext("2d");return a.width=b.width,a.height=b.height,null==c||c.putImageData(b,0,0),a}function p(a,b,c){return 0===a&&0===b&&0===c?0:1}function q(b){for(var c=[],a=0;a<b.length;a+=8){var d=b.slice(a,a+8).join(""),e=parseInt(d,2);c.push(e)}return new Uint8Array(c)}function r(c,e,f){var a,b,h;return s((a=c,b=e,n(function n(c,e,f){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.Bb;if(e*f!==c.length)throw Error("Conflict detected: width(".concat(e,") *  height(").concat(f,") != input length(").concat(c.length,")"));for(var h=(0,d.Z)(i,4),j=h[0],k=h[1],l=h[2],m=h[3],b=new Uint8ClampedArray(4*e*f).fill(0),a=0;a<c.length;a++)c[a]>0&&(b[4*a+0]=j,b[4*a+1]=k,b[4*a+2]=l,b[4*a+3]=m);return new ImageData(b,e,f)}(a,b,h=f))))}function s(b,c){var a=document.createElement("a");a.href=b.src,a.download=c||"mask.jpeg",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function t(c){var d=new Blob([c],{type:"application/octet-stream"}),b=URL.createObjectURL(d),a=document.createElement("a");a.setAttribute("href",b),a.setAttribute("download","binary.bin"),a.click(),URL.revokeObjectURL(b)}function u(a){var f=a.size[0],g=a.size[1],h=Array(f*g).fill(0),i=0,b=!1,n=a.counts,c=!0,j=!1,k=void 0;try{for(var l,d=n[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){for(var m=l.value,e=0;e<m;e++)h[i+e]=b?1:0;i+=m,b=!b}}catch(o){j=!0,k=o}finally{try{c||null==d.return||d.return()}finally{if(j)throw k}}return w(v(h,f,g))}function v(e,c,d){if(c*d!==e.length)throw Error("Invalid input array size");for(var f=Array(d).fill(null).map(function(){return Array(c).fill(0)}),a=0;a<d;a++)for(var b=0;b<c;b++)f[a][b]=e[a*c+b];return f}function w(c){for(var f=c.length,d=c[0].length,e=Array(d).fill(null).map(function(){return Array(f).fill(0)}),a=0;a<d;a++)for(var b=0;b<f;b++)e[a][b]=c[b][a];return e}function x(d,a){var b=[];if(d.forEach(function(f){var c=function(b){var a;return(null===(a=b[f.y])||void 0===a?void 0:a[f.x])===1},d=b.findIndex(c);if(d>-1)b.splice(d,1);else{var e=a.find(c);if(!e)return;b.push(e),b.sort(function(a,b){return b.area-a.area})}}),b.length<2)return b[0]||[];var e=a[0][0].length,c=Array(a[0].length).fill(null).map(function(){return Array(e).fill(0)});return D(c,function(e,a,d){c[a][d]=function(g){var a=0,b=!0,d=!1,e=void 0;try{for(var f,c=g[Symbol.iterator]();!(b=(f=c.next()).done);b=!0){var h=f.value;if(a|=h,1===a)break}}catch(i){d=!0,e=i}finally{try{b||null==c.return||c.return()}finally{if(d)throw e}}return a}(b.map(function(b){return b[a][d]}))}),c}function y(a,b){var c=j(a,b),d=k(c);return z(d)}function z(a){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,b=a.filter(function(a){return Math.abs(C(a))>f});if(0===b.length){var c,d=a.map(function(a){return C(a)});return[a[d.indexOf((c=Math).max.apply(c,(0,e.Z)(d)))]]}return b}function A(a,c,b,d){if(a===b)return 0;var e=Math.min(c,d),f=(b-a)*e,g=Math.max(c,d),h=Math.trunc((b-a)*(g-e)/2);return f+h}function B(a){return"L"===a.charAt(0)||"M"===a.charAt(0)?parseInt(a.slice(1)):parseInt(a)}function C(h){var a=h.split(" ");if(a.length<4||a.length%2!=0)return 0;for(var c=0,d=B(a[a.length-2]),e=B(a[a.length-1]),b=0;b<a.length;b+=2){var f=B(a[b]),g=B(a[b+1]);c+=A(d,e,f,g),d=f,e=g}return c}function D(c,e){for(var a=0;a<c.length;a++)for(var d=c[a],b=0;b<d.length;b++)e(d[b],a,b)}function E(a){var b=0;return D(a,function(a){return a>0&&b++}),b}function F(a,q,i,j,m,v,w){var b=a.map(function(a){var b=a.tool;return new l.Line({x:0,y:0,points:a.points.map(function(a){return a*v}),stroke:b===f.U.ERASER?"#FFF":g.Y4,strokeWidth:a.size/w,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:b===f.U.ERASER?"destination-out":"xor"})}),c=new l.Image({image:q,width:i,height:j,globalCompositeOperation:"xor"});if(a.length){var r=a.length-1;if(m<a[0].time)b.unshift(c);else if(m>a[r].time)b.push(c);else{var s=a.findIndex(function(b,c){return m>b.time&&m<a[c+1].time});b.splice(s+1,0,c)}}else b.push(c);var d,e,h,k,n,t=document.createElement("div"),o=new l.Stage({width:i,height:j,container:t}),u=new l.Layer;return b.forEach(function(a){return u.add(a)}),o.add(u),d=o.toCanvas({imageSmoothingEnabled:!1}),e=i,h=j,(k=document.createElement("canvas")).width=e,k.height=h,(n=k.getContext("2d")).drawImage(d,0,0,d.width,d.height,0,0,e,h),function(b){for(var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,c=[],a=0;a<b.data.length;a+=4){var e=b.data[a],f=b.data[a+1],g=b.data[a+2];c.push(d(e,f,g))}return c}(n.getImageData(0,0,e,h))}},9068:function(p,h,a){"use strict";a.d(h,{"A$":function(){return y},U:function(){return f},jM:function(){return g},ou:function(){return e},"v$":function(){return o}});var f,e,g,c,d,b,q=a(7568),r=a(4924),i=a(6042),s=a(9396),t=a(9815),j=a(4051),u=a.n(j),k=a(6902),l=a(8597),v=a(9680),w=a(7890);(c=f||(f={}))[c.DISABLED=0]="DISABLED",c[c.PEN=1]="PEN",c[c.ERASER=2]="ERASER",(d=e||(e={}))[d.HOVER_CLICK=0]="HOVER_CLICK",d[d.BRUSH_ERASE=1]="BRUSH_ERASE",d[d.EVERYTHING=2]="EVERYTHING",(b=g||(g={}))[b.MIN=5]="MIN",b[b.MAX=130]="MAX",b[b.STEP=5]="STEP",b[b.DEFAULT=50]="DEFAULT";var x=e.EVERYTHING,y=1;function z(){return{allMaskPoints:[],allMaskHistory:[],cutAnimation:!0,lastPoints:null,lastClickTime:0,x:0,y:0,scaleX:y}}function A(){return{clicks:null,clicksHistory:null,maskImage:null,predMasks:null,predMasksHistory:null,userNegClickBool:!1,lastPoints:null,lastClickTime:0,hasClicked:!1}}function B(){return{drawingTool:f.DISABLED,isDrawing:!1,drawingLines:[],undoRedoStack:[],brushSize:g.DEFAULT,eraseSize:g.DEFAULT,indicatorX:-1,indicatorY:-1,numOfTouches:0,hasTouchMoved:!1,lastPoints:null,x:0,y:0,scaleX:y}}function m(){return(0,s.Z)((0,i.Z)({},B(),z(),A()),{allMask:[],allMaskJson:[],allMaskEdge:[],isFirstTime:!0,hoverId:null,width:0,height:0,maskWidth:0,maskHeight:0,embResult:null,handleMode:x,image:null,imageFile:null,modelScale:null,imageChanged:!1,removeObject:!1})}var n={isH5:!1,isClickEnabled:!1,model:null,prompt:"",resultCount:null,imageId:"",settings:null,alreadyEmbList:null,loading:!1,loadingText:"",failedModalVisible:!1,confirmVisible:!1,errMsg:"",inpaintEnabled:!1},C=(0,i.Z)({},m(),n),o=(0,k.ZP)()((0,l.XR)(function(b,c){var a;return(0,s.Z)((0,i.Z)({},C),{containerWidth:0,containerHeight:0,setLastPoints:function(a){return b({lastPoints:a})},setModel:function(a){return b({model:a})},setSettings:function(a){return b({settings:a})},setAlreadyEmbList:function(a){return b({alreadyEmbList:a})},setEmbResult:function(a){return b({embResult:a})},setMaskImage:function(a){return b({maskImage:a})},setImageChanged:function(a){return b({imageChanged:a})},snapshot:function(){var a=c(),e=a.drawingLines,f=a.maskImage,g=a.maskWidth,h=a.maskHeight,i=a.lastClickTime,b=a.modelScale,j=a.containerHeight,k=a.containerWidth,l=(0,v.y)({width:b.width,height:b.height,containerHeight:j,containerWidth:k}).scale,d=(0,w.CO)(e,f,g,h,i,b.uploadScale,l);return{changed:d.some(function(a){return!!a}),buffer:d}},resetAll:function(){return b((0,i.Z)({},m()))},resetClick:function(){return b((0,i.Z)({},A()))},resetEverything:function(){return b((0,i.Z)({},z()))},resetDrawing:function(){return b((0,i.Z)({},B()))},setPredMasksHistory:function(a){return b({predMasksHistory:a})},clear:function(){return b((0,i.Z)({},m(),n))},undoDrawing:function(){var a=c(),d=a.drawingLines,e=a.undoRedoStack,f=d.pop();f&&(e.push(f),b({drawingLines:(0,t.Z)(d),undoRedoStack:(0,t.Z)(e)}))},redoDrawing:function(){var d=c(),e=d.drawingLines,f=d.undoRedoStack,a=f.pop();a&&(e.push(a),a.time=Date.now(),b({drawingLines:(0,t.Z)(e),undoRedoStack:(0,t.Z)(f)}))},undoEverything:function(){var a=c(),d=a.allMaskPoints,e=a.allMaskHistory,f=d.pop();f&&(e.push(f),b({allMaskPoints:(0,t.Z)(d),allMaskHistory:(0,t.Z)(e)}))},redoEverything:function(){var a=c(),d=a.allMaskPoints,e=a.allMaskHistory,f=e.pop();f&&(d.push(f),b({lastClickTime:Date.now(),allMaskPoints:(0,t.Z)(d),allMaskHistory:(0,t.Z)(e)}))},setAllMask:(a=(0,q.Z)(u().mark(function a(c){var d,e,f;return u().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=function(){return new Promise(function(a){function b(h){if(h>=c.length){a(null);return}var f=c[h],g=(0,w.i7)(f);g.area=(0,w.Yv)(g),d.push(g),e.push((0,w._2)(f.counts,f.size[0])),requestAnimationFrame(function(){return b(h+1)})}requestAnimationFrame(function(){return b(0)})})},d=[],e=[],a.next=6,f();case 6:b({allMask:d.sort(function(a,b){return a.area-b.area}),maskWidth:c[0].size[1],maskHeight:c[0].size[0],allMaskJson:c,allMaskEdge:e});case 7:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}),addAllMaskPoint:function(a){if(a.x>=0&&a.y>=0){var d=c(),e=d.allMaskPoints,f=d.modelScale;e.push({x:Math.floor(a.x*f.uploadScale),y:Math.floor(a.y*f.uploadScale)}),b({allMaskPoints:(0,t.Z)(e)})}},updateIndicatorPosition:function(a,c){return b({indicatorX:a,indicatorY:c})},checkDrawingLines:function(){var a=c().drawingLines;b({drawingLines:a.filter(function(a){return a.points.length>1})})},setDrawingLines:function(e,g,h){var i=c(),a=i.drawingLines,j=i.brushSize,k=i.eraseSize,l=h==f.PEN?j:k,d=a[a.length-1];if(h)(null==d?void 0:d.points.length)===1&&a.pop(),a.push({tool:h,points:[e,g],size:l,time:Date.now()});else{if(!a.length){console.error("Missing drawing initialization");return}d.points=d.points.concat([e,g]),d.time=Date.now()}b({drawingLines:(0,t.Z)(a),indicatorX:e,indicatorY:g})},setImage:function(a){return b({image:a})},setImageFile:function(a){return b({imageFile:a})},setClicks:function(a){return b({clicks:a})},addClick:function(a){var d=c().clicks;b({clicks:(0,t.Z)(d||[]).concat([a])})},setClicksHistory:function(a){return b({clicksHistory:a})},setPredMasks:function(a){return b({predMasks:a})},setModelScale:function(a){return b({modelScale:a})},setBoolean:function(a,c){return b((0,r.Z)({},a,c))},setNumber:function(a,c){return b((0,r.Z)({},a,c))},setString:function(a,c){return b((0,r.Z)({},a,c))}})}));o.subscribe(function(a){return a.handleMode},function(a){a===e.BRUSH_ERASE&&o.getState().drawingTool===f.DISABLED&&o.setState({drawingTool:f.PEN})})},4277:function(c,b,a){"use strict";a.d(b,{a:function(){return e}});var d=a(4924),e=(0,a(6902).ZP)()(function(a){return{faceswapVisible:!1,wannaMoreVisible:!1,setBoolean:function(b,c){return a((0,d.Z)({},b,c))}}})},6260:function(c,b,a){"use strict";a.d(b,{D:function(){return d}});var d=(0,a(6902).ZP)()(function(a){return{cover:"",taskId:"",setTaskId:function(b){return a({taskId:b})},setCover:function(b){return a({cover:b})},resetAll:function(){return a({cover:"",taskId:""})}}})},1376:function(d,b,a){"use strict";var e=a(5893);a(7294);var c=a(9008),f=a.n(c),g=a(3597);b.Z=function(a){var b=a.title,c=a.description,d=a.pageUrl,h=a.og,j=a.keywords,i="https://www.deep-nude.ai";return(0,e.jsxs)(f(),{children:[(0,e.jsx)("title",{children:b}),(0,e.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,e.jsx)("meta",{name:"description",content:c}),j&&(0,e.jsx)("meta",{name:"keywords",content:j}),(0,e.jsx)("meta",{name:"robots",content:"follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large"}),(0,e.jsx)("link",{rel:"canonical",href:"".concat(i).concat(d)}),(0,e.jsx)("link",{rel:"alternate",href:"".concat(i).concat(d),hrefLang:"x-default"}),g.k1.map(function(a){return(0,e.jsx)("link",{rel:"alternate",href:"".concat(i,"/").concat(a).concat(d),hrefLang:a},a)}),h&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("meta",{property:"og:site_name",content:h["og:site_name"]}),(0,e.jsx)("meta",{property:"og:title",content:b}),(0,e.jsx)("meta",{property:"og:description",content:c}),(0,e.jsx)("meta",{property:"og:url",content:"".concat(i).concat(d)}),(0,e.jsx)("meta",{property:"og:type",content:"website"}),(0,e.jsx)("meta",{property:"og:image:alt",content:h["og:image:alt"]}),(0,e.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,e.jsx)("meta",{name:"twitter:title",content:b}),(0,e.jsx)("meta",{name:"twitter:desc",content:c})]})]})}},9632:function(v,f,a){"use strict";a.r(f),a.d(f,{"__N_SSG":function(){return by},default:function(){return bz}});var w,x,g,y,z,A,B,C,D,E,F,G,H,I,J=a(5893),K=a(1798),L=a(2320),M=a(9815),N=a(7294);function O(){return(O=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var P=function(a){return N.createElement("svg",O({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},a),w||(w=N.createElement("path",{d:"M3.293 5.293a1 1 0 0 1 1.414 0L8 8.585l3.293-3.292a1 1 0 0 1 1.32-.083l.094.083a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z",fill:"#15162E",fillRule:"evenodd"})))};function Q(){return(Q=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var R=function(a){return N.createElement("svg",Q({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},a),x||(x=N.createElement("path",{d:"M12.707 10.707a1 1 0 0 1-1.414 0L8 7.415l-3.293 3.292a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414z",fill:"#15162E",fillRule:"evenodd"})))};function S(a){var c=a.title,d=a.items,b=(0,N.useState)([]),e=b[0],f=b[1],g=function(a){f(function(b){return-1!==b.findIndex(function(b){return b===a})?b.filter(function(b){return b!==a}):(0,M.Z)(b).concat([a])})};return(0,J.jsxs)("div",{className:"desktop px-4 pt-6 pb-8 xl:px-10 xl:pt-[84px] xl:pb-[168px]",children:[(0,J.jsx)("h2",{className:"mb-4 text-2xl font-extrabold leading-none text-black/95 xl:mb-12 xl:text-5xl xl:font-bold",children:c}),(0,J.jsx)("ul",{children:d.map(function(a,b){var d=a.q,f=a.a,c=e.includes(b);return(0,J.jsxs)("li",{onClick:function(){return g(b)},className:"cursor-pointer py-4 xl:py-5",children:[(0,J.jsxs)("h3",{className:"mb-2 flex items-center justify-between text-base font-bold text-black xl:mb-3 xl:text-[17px]",children:[(0,J.jsx)("span",{className:"pr-4",children:d}),c?(0,J.jsx)(R,{}):(0,J.jsx)(P,{})]}),(0,J.jsx)("p",{className:"text-sm leading-6 text-black xl:text-base ".concat(c?"block":"hidden"),dangerouslySetInnerHTML:{__html:f}})]},b)})})]})}var e,T=a(1376),h=a(5152),b=a.n(h),U=a(374),V=a(9068),c=a(7568),W=a(2670),i=a(4051),d=a.n(i),j=a(9591),X=a.n(j);(e=g||(g={}))[e.NONE=-1]="NONE",e[e.EMBEDDING=0]="EMBEDDING",e[e.FAILED=1]="FAILED",e[e.SUCCEED=2]="SUCCEED";var k,l,m,n,o,p,q,r,s,t,Y=1677721,Z=function(c){var a=c.naturalWidth,b=c.naturalHeight;if(a*b>Y){var e=Math.sqrt(Y/(a*b));a=Math.floor(e*a),b=Math.floor(e*b)}c.width=a,c.height=b;var d=1024/Math.max(a,b);return{height:b,width:a,uploadScale:d,maskWidth:Math.floor(a*d),maskHeight:Math.floor(b*d)}},$=a(7890),_=a(2804),aa=a(8744),ab=a(4277),ac=a(6260),ad=a(5474),ae=a(6541),af=a(8910),ag=a(3043),ah=a(7148),ai=a(5844),aj=(k=(0,c.Z)(d().mark(function a(){var b;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.U2)("/settings/inpainting-task");case 2:return b=a.sent.data,a.abrupt("return",b);case 4:case"end":return a.stop()}},a)})),function(){return k.apply(this,arguments)}),ak=(l=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.U2)("/users/me/image-segment-anything/".concat(b));case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},a)})),function(a){return l.apply(this,arguments)}),al=(m=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.U2)("/anon/users/me/image-segment-anything/".concat(b));case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},a)})),function(a){return m.apply(this,arguments)}),am=(n=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.v_)("/users/me/files/".concat(b,"/segment-anything"));case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},a)})),function(a){return n.apply(this,arguments)}),an=(o=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.v_)("/anon/users/me/files/".concat(b,"/segment-anything"));case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},a)})),function(a){return o.apply(this,arguments)}),ao=(p=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.v_)("/users/me/models/inpainting/tasks",b);case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},a)})),function(a){return p.apply(this,arguments)}),ap=(q=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.v_)("/anon/users/me/models/inpainting/tasks",b);case 2:return c=a.sent,a.abrupt("return",c);case 4:case"end":return a.stop()}},a)})),function(a){return q.apply(this,arguments)}),aq=(r=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.v_)("/users/me/files/".concat(b,"/segment-anything"));case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)})),function(a){return r.apply(this,arguments)}),ar=(s=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.v_)("/anon/users/me/files/".concat(b,"/segment-anything"));case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}},a)})),function(a){return s.apply(this,arguments)}),as=(t=(0,c.Z)(d().mark(function a(b){var c,e;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ai.U2)(b,{locale:void 0},{"Content-Type":"image/jpeg"},{blob:!0});case 2:return c=a.sent,a.next=5,c.blob();case 5:return e=a.sent,a.abrupt("return",new File([e],"image.jpeg"));case 7:case"end":return a.stop()}},a)})),function(a){return t.apply(this,arguments)}),at=a(3454);function au(){var f,h,i,j,k,l,B=(0,K.$G)(["generator"]).t,C=(0,N.useRef)(null),D=(0,ac.D)(function(a){return a.setTaskId},U.Z),E=(0,ab.a)(function(a){return a.setBoolean},U.Z),b=(0,aa.oR)(function(a){return a.user},U.Z),a=(0,V.v$)(),F=a.undoDrawing,G=a.redoDrawing,H=a.setImageChanged,I=a.snapshot,J=a.clicks,L=a.clicksHistory,O=a.setClicksHistory,P=a.predMasksHistory,Q=a.setPredMasksHistory,R=a.predMasks,S=a.setPredMasks,m=a.handleMode,T=a.setMaskImage,Y=a.setClicks,n=a.resetDrawing,o=a.resetAll,p=a.resetClick,q=a.resetEverything,ai=a.redoEverything,aj=a.undoEverything,e=a.setBoolean,r=a.setNumber,s=a.setModelScale,t=a.setAllMask,au=a.maskWidth,av=a.maskHeight,u=a.setImage,aw=a.prompt,ax=a.imageId,ay=a.width,az=a.height,v=a.setString,aA=a.setImageFile,aB=a.setEmbResult,aC=(0,N.useCallback)((0,c.Z)(d().mark(function a(){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,b){a.next=3;break}return a.abrupt("return",!1);case 3:return a.next=5,(0,_.IY)();case 5:return c=a.sent,a.abrupt("return",!!c.level);case 9:return a.prev=9,a.t0=a.catch(0),a.abrupt("return",!1);case 12:case"end":return a.stop()}},a,null,[[0,9]])})),[b]),w=(0,N.useCallback)((f=(0,c.Z)(d().mark(function a(b){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c=Z(b),r("width",c.width),r("height",c.height),s(c),u(b),setTimeout(function(){e("loading",!1)},320);case 6:case"end":return a.stop()}},a)})),function(a){return f.apply(this,arguments)}),[e,u,s,r]),x=(0,N.useCallback)((h=(0,c.Z)(d().mark(function a(c,f,h,i){var j,k,l,m,n,p;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o(),a.prev=1,j=f,h!==g.EMBEDDING){a.next=9;break}return k=b?aq:ar,a.next=7,k(i);case 7:j=(l=a.sent).maskUrl;case 9:return a.next=11,fetch(j);case 11:return m=a.sent,a.next=14,m.json();case 14:return n=a.sent,a.next=17,t(n);case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a.catch(1),e("loading",!1),v("errMsg",a.t0.message),a.abrupt("return");case 24:(0,W.Z)(c,File)?((p=new Image).src=URL.createObjectURL(c),p.onload=function(){return w(p)}):(0,W.Z)(c,HTMLImageElement)&&w(c);case 25:case"end":return a.stop()}},a,null,[[1,19]])})),function(a,b,c,d){return h.apply(this,arguments)}),[w,o,t,e,v,b]),y=(i=(0,c.Z)(d().mark(function a(c){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,g=(f=I()).changed,h=f.buffer,g){a.next=5;break}return H(!1),a.abrupt("return");case 5:return e("loading",!0),v("loadingText","".concat(B("creating"),"...")),i=(0,$.z_)(h),at.env.NEXT_PUBLIC_DEBUG&&((0,$.o5)(h,au,av),(0,$.lm)(i)),j=X().deflate(i),k=new Blob([j]),l=new File([k],(0,ag.Z)(8),{type:"image/jpeg"}),a.next=14,(0,af.ZP)(l,ae.Gk.INPAINTING_IMAGE_MASK,{anymous:!b});case 14:return n={text:aw,resultCount:1,imageId:ax,width:ay,height:az,maskFileId:m=a.sent.fileId,removeObject:c},o=b?ao:ap,a.next=19,o(n);case 19:return q=(p=a.sent).data,r=p.success,s=p.errorMsg,r?(e("removeObject",!1),D(q.taskId.toString())):v("errMsg",s),a.abrupt("return",!0);case 27:if(a.prev=27,a.t0=a.catch(0),e("loading",!1),302!==a.t0.code){a.next=38;break}return a.next=33,aC();case 33:return(t=a.sent)?E("faceswapVisible",!0):e("failedModalVisible",!0),a.abrupt("return");case 38:if(806!==a.t0.code){a.next=41;break}return E("wannaMoreVisible",!0),a.abrupt("return");case 41:v("errMsg",a.t0.message);case 42:case"end":return a.stop()}},a,null,[[0,27]])})),function(a){return i.apply(this,arguments)}),z=(0,N.useCallback)(function(a){((a=!0===a)||m===V.ou.HOVER_CLICK)&&p(),(a||m===V.ou.BRUSH_ERASE)&&n(),(a||m===V.ou.EVERYTHING)&&q()},[m,p,n,q]),A=(j=(0,c.Z)(d().mark(function a(c){var f,g,h,i;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(!(f=c[0]).type.includes("image")||["image/gif","image/apng","image/tiff"].includes(f.type))){a.next=4;break}throw Error("File format is not supported");case 4:return o(),e("loading",!0),v("loadingText","".concat(B("uploading"),"...")),v("imageId",""),a.next=10,(0,af.ZP)(f,ae.Gk.INPAINTING_IMAGE,{isCompress:f.size>ad.uk.BACK_MAX_SIZE,isEdit:!0,anymous:!b});case 10:h=(g=a.sent).fileId,i=g.file,aA(i),e("inpaintEnabled",!0),aF(h),a.next=22;break;case 18:a.prev=18,a.t0=a.catch(0),e("loading",!1),v("errMsg",a.t0.message);case 22:return a.prev=22,c=null,a.finish(22);case 25:case"end":return a.stop()}},a,null,[[0,18,22,25]])})),function(a){return j.apply(this,arguments)}),aD=function(){C.current&&clearTimeout(C.current)},aE=(k=(0,c.Z)(d().mark(function a(c){var f,h,i,j,k,l;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,f=b?ak:al,a.next=4,f(c);case 4:if(i=(h=a.sent).data,j=h.success,k=h.errorMsg,j){a.next=12;break}(0,ah.ZP)(k),e("loading",!1),aD(),a.next=22;break;case 12:if(i.status!==g.SUCCEED){a.next=21;break}return aB(i),a.next=16,as(i.url);case 16:x(l=a.sent,i.maskUrl),aA(null),a.next=22;break;case 21:i.status===g.FAILED?aD():C.current=setTimeout(function(){return aE(c)},2e3);case 22:a.next=29;break;case 24:a.prev=24,a.t0=a.catch(0),aD(),(0,ah.ZP)(a.t0.message),e("loading",!1);case 29:case"end":return a.stop()}},a,null,[[0,24]])})),function(a){return k.apply(this,arguments)}),aF=(l=(0,c.Z)(d().mark(function a(c){var f,g,h,i,j,k;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e("loading",!0),v("loadingText","".concat(B("uploading"),"...")),f=b?am:an,a.next=6,f(c);case 6:h=(g=a.sent).data,i=g.success,j=g.errorMsg,i?(v("imageId",k=h.imageId),e("loading",!0),v("loadingText","".concat(B("uploading"),"...")),aE(k)):(0,ah.ZP)(j),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),(0,ah.ZP)(a.t0.message),e("loading",!1);case 17:case"end":return a.stop()}},a,null,[[0,13]])})),function(a){return l.apply(this,arguments)});return(0,N.useEffect)(function(){return function(){aD()}},[]),{selecteImage:x,submitTask:y,resetInteraction:z,undoInteraction:function(){if(m===V.ou.HOVER_CLICK){if((null==R?void 0:R.length)&&(null==J?void 0:J.length)){var a=(0,M.Z)(R),b=a.pop(),c=(0,M.Z)(P||[]);S(a),b&&c.push(b),Q(c);var d=(0,M.Z)(J),f=d.pop(),g=(0,M.Z)(L||[]);f&&g.push(f),O(g),1===J.length?(e("hasClicked",!1),Y(null),T(null)):Y(d)}}else m===V.ou.BRUSH_ERASE?F():m===V.ou.EVERYTHING&&aj()},redoInteraction:function(){if(m===V.ou.HOVER_CLICK){if((null==P?void 0:P.length)&&(null==L?void 0:L.length)){e("hasClicked",!0);var a=(0,M.Z)(R||[]),b=(0,M.Z)(P||[]),c=b.pop();c&&a.push(c),Q(b),S(a);var d=(0,M.Z)(J||[]),f=(0,M.Z)(L||[]),g=f.pop();g&&d.push(g),O(f),Y(d)}}else m===V.ou.BRUSH_ERASE?G():m===V.ou.EVERYTHING&&ai()},upload:A}}var av=b()(function(){return a.e(4143).then(a.bind(a,4143))},{loadableGenerated:{webpack:function(){return[4143]}},ssr:!1}),aw=function(){var b=(0,K.$G)(["generator"]).t,a=(0,V.v$)(function(a){return{prompt:a.prompt,imageId:a.imageId,imageChanged:a.imageChanged,setBoolean:a.setBoolean}},U.Z),e=a.prompt,c=a.imageId,d=a.imageChanged,f=a.setBoolean,g=au().submitTask;return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:"flex w-full gap-3 pb-3",children:[(0,J.jsx)("button",{className:"x_btn x_btn_large flex-1 bg-[#0000001e] text-lg xl:h-14",type:"button",onClick:function(){return f("confirmVisible",!0)},children:(0,J.jsx)("span",{children:b("custom")})}),(0,J.jsx)("button",{className:"x_btn x_btn_primary x_btn_large flex-1 text-lg xl:h-14 ".concat(!(c&&d)&&"disabled"),type:"submit",onClick:function(){return g(!0)},children:b("remove_object")})]}),(0,J.jsx)(av,{disabled:!(c&&e.trim()&&d),onSubmit:function(){g(!1),f("confirmVisible",!1)}})]})};function ax(){return(ax=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var ay=function(a){return N.createElement("svg",ax({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),y||(y=N.createElement("path",{d:"M20 17a1 1 0 0 1 1 1v1h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 1-1zM13.39 3.004a47.87 47.87 0 0 1 5.331 5.012c-.087.42-.27.814-.533 1.152-.213.235.128 2.037-.362 2.826a34.125 34.125 0 0 1-4.149 4.404 3.594 3.594 0 0 1-3.082 0 .608.608 0 0 1-.053-1.066l2.41-2.133s.267-.885-.522-.256c-.79.63-4.607 4.02-5.919 5.162a3.316 3.316 0 0 1-1.78.853 1.583 1.583 0 0 1-1.302-.267c-.778-.757-.437-1.898.534-2.762.383-.34 1.28-1.16 2.224-2.028l.38-.348c1.329-1.22 2.631-2.423 2.631-2.423s0-.384-.266-.277c-.267.107-1.43 1.13-2.1 1.685a.437.437 0 0 1-.673-.15c-.565-1.204-1.76-4.265.086-5.832 2.335-1.952 3.796-2.837 4.65-2.73.397.073.806.073 1.204 0 0 0 1.002-.896 1.29-.822z",fill:"currentColor",fillRule:"evenodd"})))};function az(){return(az=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aA=function(a){return N.createElement("svg",az({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),z||(z=N.createElement("path",{d:"M22 19a1 1 0 0 1 0 2h-4a1 1 0 0 1 0-2h4zM13.39 3.004a47.87 47.87 0 0 1 5.331 5.012c-.087.42-.27.814-.533 1.152-.213.235.128 2.037-.362 2.826a34.125 34.125 0 0 1-4.149 4.404 3.594 3.594 0 0 1-3.082 0 .608.608 0 0 1-.053-1.066l2.41-2.133s.267-.885-.522-.256c-.79.63-4.607 4.02-5.919 5.162a3.316 3.316 0 0 1-1.78.853 1.583 1.583 0 0 1-1.302-.267c-.778-.757-.437-1.898.534-2.762.383-.34 1.28-1.16 2.224-2.028l.38-.348c1.329-1.22 2.631-2.423 2.631-2.423s0-.384-.266-.277c-.267.107-1.43 1.13-2.1 1.685a.437.437 0 0 1-.673-.15c-.565-1.204-1.76-4.265.086-5.832 2.335-1.952 3.796-2.837 4.65-2.73.397.073.806.073 1.204 0 0 0 1.002-.896 1.29-.822z",fill:"currentColor",fillRule:"evenodd"})))};function aB(){return(aB=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aC=function(a){return N.createElement("svg",aB({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),A||(A=N.createElement("g",{fill:"currentColor",fillRule:"evenodd"},N.createElement("circle",{fillOpacity:.3,cx:12,cy:12,r:12}),N.createElement("circle",{cx:12,cy:12,r:6}))))},aD=function(a){var b=a.prefix,c=a.children,d=a.disabled,e=a.selected,f=a.onClick,g=a.cls;return(0,J.jsxs)("div",{className:"x_btn x_btn_middle ".concat(e&&"actived"," ").concat(d&&"disabled"," ").concat(g),onClick:f,children:[(0,J.jsx)("span",{className:"inline-block h-5 w-5 xl:h-6 xl:w-6",children:b}),(0,J.jsx)("span",{className:"xl:hidden",children:c})]})},aE=function(){var b=(0,K.$G)(["generator"]).t,a=(0,V.v$)(function(a){return{handleMode:a.handleMode,setNumber:a.setNumber,drawingTool:a.drawingTool,disabled:!a.image}},U.Z),c=a.handleMode,f=a.setNumber,e=a.drawingTool,d=a.disabled;return(0,J.jsxs)("div",{className:"flex w-full gap-2 xl:px-4",children:[(0,J.jsx)(aD,{prefix:(0,J.jsx)(aC,{}),onClick:function(){f("handleMode",V.ou.EVERYTHING)},selected:c===V.ou.EVERYTHING,disabled:d,cls:"flex-1",children:b("cut_everything")}),(0,J.jsx)(aD,{prefix:(0,J.jsx)(ay,{}),onClick:function(){f("handleMode",V.ou.BRUSH_ERASE),f("drawingTool",V.U.PEN)},selected:c===V.ou.BRUSH_ERASE&&e===V.U.PEN,disabled:d,children:b("brush")}),(0,J.jsx)(aD,{prefix:(0,J.jsx)(aA,{}),onClick:function(){f("handleMode",V.ou.BRUSH_ERASE),f("drawingTool",V.U.ERASER)},selected:c===V.ou.BRUSH_ERASE&&e===V.U.ERASER,disabled:d,children:b("reduce")})]})};function aF(){return(aF=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aG=function(a){return N.createElement("svg",aF({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),B||(B=N.createElement("path",{d:"M12.22 2.456a1 1 0 0 1 1.405-.156l2.399 1.92a1 1 0 0 1 0 1.56l-2.4 1.92A1 1 0 0 1 12 6.92V6a6 6 0 1 0 6 6 1 1 0 0 1 2 0 8 8 0 1 1-8-8v-.92a1 1 0 0 1 .22-.624z",fill:"currentColor",fillRule:"evenodd"})))};function aH(){return(aH=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aI=function(a){return N.createElement("svg",aH({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),C||(C=N.createElement("path",{d:"M15 10.865a1 1 0 0 0 1.64.768l3.438-2.865a1 1 0 0 0 0-1.536L16.64 4.367a1 1 0 0 0-1.64.768V7h-5a6 6 0 1 0 0 12h5a1 1 0 0 0 0-2h-5a4 4 0 1 1 0-8h5v1.865z",fill:"currentColor",fillRule:"evenodd"})))};function aJ(){return(aJ=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aK=function(a){return N.createElement("svg",aJ({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),D||(D=N.createElement("path",{d:"M9 10.865a1 1 0 0 1-1.64.768L3.922 8.768a1 1 0 0 1 0-1.536L7.36 4.367A1 1 0 0 1 9 5.135V7h5a6 6 0 1 1 0 12H9a1 1 0 0 1 0-2h5a4 4 0 1 0 0-8H9v1.865z",fill:"currentColor",fillRule:"evenodd"})))},aL=function(){var a=(0,V.v$)(function(a){return!a.image},U.Z),b=au(),c=b.resetInteraction,d=b.undoInteraction,e=b.redoInteraction;return(0,J.jsxs)("div",{className:"flex justify-end gap-2 xl:gap-0",children:[(0,J.jsx)("div",{className:"x_btn px-1.5 xl:px-2 ".concat(a&&"disabled"," float_icon"),onClick:c,children:(0,J.jsx)("span",{className:"inline-block h-6 w-6",children:(0,J.jsx)(aG,{})})}),(0,J.jsx)("div",{className:"x_btn px-1.5 xl:px-2 ".concat(a&&"disabled"," float_icon"),onClick:e,children:(0,J.jsx)("span",{className:"inline-block h-6 w-6",children:(0,J.jsx)(aI,{})})}),(0,J.jsx)("div",{className:"x_btn px-1.5 xl:px-2 ".concat(a&&"disabled"," float_icon"),onClick:d,children:(0,J.jsx)("span",{className:"inline-block h-6 w-6",children:(0,J.jsx)(aK,{})})})]})},u=a(6089),aM=a.n(u);function aN(){return(aN=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aO=function(a){return N.createElement("svg",aN({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),E||(E=N.createElement("path",{d:"M11 3a8 8 0 0 1 6.32 12.905l3.387 3.388a1 1 0 0 1-1.414 1.414l-3.388-3.386A8 8 0 1 1 11 3zm0 2a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm2 5a1 1 0 0 1 0 2H9a1 1 0 0 1 0-2h4z",fill:"currentColor",fillRule:"evenodd"})))};function aP(){return(aP=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aQ=function(a){return N.createElement("svg",aP({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),F||(F=N.createElement("path",{d:"M11 3a8 8 0 0 1 6.32 12.905l3.387 3.388a1 1 0 0 1-1.414 1.414l-3.388-3.386A8 8 0 1 1 11 3zm0 2a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 3a1 1 0 0 1 1 1v1h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H9a1 1 0 0 1 0-2h1V9a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))};function aR(a){return a>V.jM.MAX?V.jM.MAX:a<V.jM.MIN?V.jM.MIN:a}function aS(){var a=(0,V.v$)(function(a){return{setNumber:a.setNumber,handleMode:a.handleMode,range:a.drawingTool===V.U.PEN?a.brushSize:a.eraseSize,rangeName:a.drawingTool===V.U.PEN?"brushSize":"eraseSize"}},U.Z),b=a.rangeName,c=a.handleMode,e=a.setNumber,d=a.range,f=b;return(0,J.jsxs)("div",{className:"jsx-6c5f0c14e1511c2f "+"x_btn float_icon active:opacity-100  ".concat(c===V.ou.BRUSH_ERASE?"":"disabled"),children:[(0,J.jsx)("div",{onClick:function(){return e(f,aR(d-V.jM.STEP))},className:"jsx-6c5f0c14e1511c2f h-6 w-6 cursor-pointer",children:(0,J.jsx)(aO,{})}),(0,J.jsx)("input",{type:"range",min:V.jM.MIN,max:V.jM.MAX,step:V.jM.STEP,value:d,onChange:function(a){return e(f,+a.target.value)},className:"jsx-6c5f0c14e1511c2f slider flex-1"}),(0,J.jsx)("div",{onClick:function(){return e(f,aR(d+V.jM.STEP))},className:"jsx-6c5f0c14e1511c2f h-6 w-6 cursor-pointer",children:(0,J.jsx)(aQ,{})}),(0,J.jsx)(aM(),{id:"6c5f0c14e1511c2f",children:".slider.jsx-6c5f0c14e1511c2f{-webkit-appearance:none;width:100%;height:2px;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;background-color:rgba(255,255,255,.16)outline:none}.slider.jsx-6c5f0c14e1511c2f::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;width:12px;height:12px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:currentColor;cursor:pointer}.slider.jsx-6c5f0c14e1511c2f::-moz-range-thumb{width:12px;height:12px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:currentColor;cursor:pointer}@media(min-width:1280px){.slider.jsx-6c5f0c14e1511c2f{background:rgba(21,22,46,.12)}}"})]})}var aT=function(){return(0,J.jsxs)("div",{className:"bg-[#0000] flex w-full items-center justify-between py-2",children:[(0,J.jsx)("div",{className:"hidden xl:block",children:(0,J.jsx)(aL,{})}),(0,J.jsx)("div",{className:"w-full",children:(0,J.jsx)(aE,{})}),(0,J.jsx)("div",{className:"hidden xl:block",children:(0,J.jsx)(aS,{})})]})},aU=a(1163),aV=a(6042),aW=function(a){var e=a.onChange,f=a.children,b=a.disabled,c=a.dropProps,g=a.onClick,d=(0,N.useId)();return(0,J.jsxs)("label",{htmlFor:void 0!==c?"":d,className:"cursor-pointer",children:[f,(0,J.jsx)("input",(0,aV.Z)({type:b?"":"file",className:"hidden",accept:"image/*",id:d,onChange:b?null:e,onClick:g},c))]})},aX=a(2548);function aY(){return(aY=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var aZ=function(a){return N.createElement("svg",aY({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),G||(G=N.createElement("defs",null,N.createElement("linearGradient",{x1:"0%",y1:"21.875%",x2:"100%",y2:"78.125%",id:"upload_svg__a"},N.createElement("stop",{stopColor:"#40FF97",offset:"0%"}),N.createElement("stop",{stopColor:"#FFF836",offset:"100%"})))),H||(H=N.createElement("path",{d:"M12 3a6.502 6.502 0 0 1 6.339 5.054A6.5 6.5 0 0 1 17.5 21a1.5 1.5 0 0 1 0-3 3.5 3.5 0 0 0 0-7 1.51 1.51 0 0 1-.25-.02A1.5 1.5 0 0 1 15.5 9.5a3.5 3.5 0 0 0-7 0 1.5 1.5 0 0 1-1.75 1.48c-.08.013-.165.02-.25.02a3.5 3.5 0 0 0 0 7 1.5 1.5 0 0 1 0 3 6.5 6.5 0 0 1-.838-12.947A6.5 6.5 0 0 1 12 3zm1.06 8.44 2 2a1.5 1.5 0 0 1-1.56 2.475V19.5a1.5 1.5 0 0 1-3 0v-3.586a1.501 1.501 0 0 1-1.447-.25l-.114-.103a1.5 1.5 0 0 1 0-2.122l2-2a1.5 1.5 0 0 1 2.122 0z",fill:"url(#upload_svg__a)",fillRule:"evenodd"})))},a$=function(c){var b=c.left,d=(0,K.$G)(["generator"]).t,e=au().upload,f=(0,aU.useRouter)(),a=(0,V.v$)(function(a){return{resetAll:a.resetAll,setString:a.setString,setBoolean:a.setBoolean}},U.Z),g=a.setString,h=a.resetAll,i=a.setBoolean;return(0,J.jsxs)("div",{className:"flex items-center gap-2 pt-3 pb-2",children:[(0,J.jsxs)("div",{className:"flex-1 text-left",children:[b,!b&&(0,J.jsx)("div",{className:"inline-block cursor-pointer rounded-[20px] p-3 active:opacity-80 xl:bg-[#15162e14]",onClick:function(){h(),g("imageId",""),i("inpaintEnabled",!1),f.query.imageId&&f.push({pathname:f.pathname},void 0,{shallow:!0})},children:(0,J.jsx)(aX.Z,{width:24,height:24})})]}),(0,J.jsx)("div",{children:(0,J.jsx)(aW,{onChange:function(a){return e(a.target.files)},children:(0,J.jsxs)("div",{className:"x_btn x_btn_ghost inline-flex h-12 items-center gap-2 rounded-[20px] bg-[#1a1b1d] px-5",children:[(0,J.jsx)(aZ,{width:24,height:24}),(0,J.jsx)("span",{className:"text-colorful",children:d("upload_photo")})]})})})]})},a_=function(){return(0,J.jsx)("div",{className:"absolute bottom-2 left-0 right-0 xl:hidden",children:(0,J.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,J.jsx)("div",{children:(0,J.jsx)(aL,{})}),(0,J.jsx)("div",{className:"w-[128px]",children:(0,J.jsx)(aS,{})})]})})};function a0(){return(a0=Object.assign?Object.assign.bind():function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var a1=function(a){return N.createElement("svg",a0({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a),I||(I=N.createElement("path",{d:"M9 2.5A1.5 1.5 0 0 1 10.5 4a1.5 1.5 0 0 0 3 0A1.5 1.5 0 0 1 15 2.5h.127a5.5 5.5 0 0 1 4.225 1.979l2.631 3.158a3.5 3.5 0 0 1-.214 4.715l-2.123 2.123a.5.5 0 0 0-.146.353l-.002 2.549.5.499.696.697.367.366a1.5 1.5 0 0 1-2.122 2.122l-.525-.526A3.488 3.488 0 0 1 16 21.5H8A3.5 3.5 0 0 1 4.5 18v-3.172a.5.5 0 0 0-.146-.353L2.23 12.352a3.5 3.5 0 0 1-.214-4.715l1.59-1.909-.668-.667A1.5 1.5 0 1 1 5.06 2.939l.087.087.196.197.28.28.034.035A5.5 5.5 0 0 1 8.873 2.5H9zM5.737 7.858l-1.415 1.7a.5.5 0 0 0 .03.673l2.123 2.123A3.5 3.5 0 0 1 7.5 14.828V18a.5.5 0 0 0 .5.5h8a.498.498 0 0 0 .287-.09L5.737 7.857zm10.42-2.136-.03.076a4.501 4.501 0 0 1-5.847 2.361l.033.033.528.528 1.378 1.378.299.299.293.293.146.145.29.29.587.588.777.777 1.053 1.052.392.392.205.206.265.264a3.5 3.5 0 0 1 1-2.05l2.122-2.123a.5.5 0 0 0 .03-.674L17.048 6.4a2.5 2.5 0 0 0-.892-.678z",fill:"#101010",fillRule:"evenodd"})))},a2={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-clothed1.644a5726.png",height:720,width:540,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAUVBMVEWWaEqZinfg4N2lclKnkoGTcVm/t6i2oo6unoy+pJGqmIizlYB4XEpHKxq4iWqef2lkTkG4sKDPxr3QpIbMsJfNtZ60hmeeeGBJNirUz8iOZ0ykrVqwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOElEQVR4nAXBBwLAIAgAsVNRwNG9///QJsQt21qJnrwY700rhpMmVdrofVFkPHkWJLOfgfpxHeEHMXcB3PM+HO8AAAAASUVORK5CYII="},a3={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-clothed2.9582db54.png",height:720,width:540,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAXVBMVEXkx7/KoJKVkqTduKqcZVakdnDClovTtK4NGD/nz8q8paYNOn4dNmooMFFjUmnBh3jnw7cKLW2olJtDT3QfWJ5iPTvBjHzFq6gHEjANHkvUppVyTkl8VE1GOEWnj4+8YCPtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOUlEQVR4nAXBhQHAMAzAMBeT0pjp/zMnkVL0RoDeBwEJXdsZ7Fzbh8v1fCPOFn0u8jLqbZiKHuv2AzL6Ajx/xbEEAAAAAElFTkSuQmCC"},a4={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-clothed3.ad2307d0.png",height:720,width:540,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAXVBMVEXu7+/WwrYJZYliUEd1V0iYdmSqo52ffWv09fWpk4fk4N59bWN7hIGhiHSQeGqIcWLKyMff397Al38NP1fHqZeYlpUeXHGSYUm/opJbMyEAT3RSNikea4JuZl69uLLJu8BMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOUlEQVR4nAXBhQHAIBAAsUMfrUFd9h+zCay3TIFkTpkD/q1FQdH66ZDbtR0gJtclMdjdWcUY/efiDz9TAjRYKvI4AAAAAElFTkSuQmCC"},a5={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-nude1.929c80e8.png",height:720,width:540,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAP1BMVEW4knmmjn/LsZq7s6OqmIa6opG0h2qun46QZ0yneVzCppGeclXg4N2bak3LooabjXqWh3XOxby/uKnTz8iCVj3SGPJ0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAANUlEQVR4nAXBBwLAIAgAsUNBwNn1/7c2Yd7DqzJt9Oq8uXgcy2zdkbUTQ74GikTsctCIVq4fLGABfJe5go0AAAAASUVORK5CYII="},a6={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-nude2.d04347b6.png",height:720,width:540,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAPFBMVEXctKPHmYbHoJS6lIrjx7/Sr6XWta20g26UXUvgwbfo0MrYrJfDjnqYZVWrgHO6g3SpdmCLUT6EVEdyQjYR/7p3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAANUlEQVR4nAXBhwHAMAjAMBMgQFbX/79WYgzZrWN25XHKVkSnihlKRyIVZ9674aznVZpkfucHJYgBZDdvVPMAAAAASUVORK5CYII="},a7={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-nude3.13d0f6b7.png",height:720,width:540,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAMAAADtGH4KAAAAS1BMVEXs7u7Hnob09PV6UT7k4d+Xe2vSqpGHWUOhc1u2iG6ygWXFsKNUNCWLdmnUt6bgyLnDpJLWy8TDlHnJx8agfWmbg3SXlZNhVk+Hb2Hxj1OXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAN0lEQVR4nAXBBwKAIAwAsSvQwVDc+v+XmsAzrjNR3qEl0avYhFvMVvi8xgaao0pBs7djZwn31n8wbgGq4JTA9wAAAABJRU5ErkJggg=="},a8={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-nude-m1.0dc31302.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEXBv72VcV/4+fkaFBJVOCssHxq8j3kSCQY3LCcKBgREKB2AXExnPStTQDixratlWlbQoYuUZFBwamd9eXY4JR3t7OyzfmfYqJH8zbZNNizCwcBvVEimoqCJXEfV1NOabVekwrBpAAAAAXRSTlP+GuMHfQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAERJREFUeJwFwQUCwCAMBLADCi1uc/v/M5dAQ8RK0VgzGznlQmHP6lAD1S4UnRoQStG1PMEmbHu7J7wP3fX6wTOllx79A16iAuhbn+F1AAAAAElFTkSuQmCC"},a9={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-nude-m2.d485a37e.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEWNYkOCWzm0n4jFuqume1yldVbi4d+jiGibclm9jnWQbVCzgmjKw7bWvaG8tKS+inDCnYHWzLzc1MyulHh2TjGAXUizknrar5txRCQ/35KNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nAXBBwLAIAgEsANBwG33/1/aBLmxFRsDOVnBxQn5dKnxNByQ22NtJEyvvjaYos5XOwyqIdJBBC1fbz9R1AJCLcfQEQAAAABJRU5ErkJggg=="},ba={src:"https://aipx.faceplay.me/deepnude/_next/static/media/landing-nude-m3.3d0aa4f4.png",height:96,width:96,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAUVBMVEWFSTvPqqKzgG3eu7PgxL2kaVzNmYnkx8DkzMZ7QTXMiHqaY1GQVUexcmPlurGgZFSudV/isaePZFm/fXG8jYXuw7qMXk6gTEHdpJmHOzKNbm9q7vaJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQklEQVR4nAXBBwLAIAgEsFNBwD26///QJlCJlZ0QtG0zJoKe3Q8cAp0cLyBAHvMrm0NLNfoOh3mXlFECQnrzKN/6AVBRAnHWM7KpAAAAAElFTkSuQmCC"},bb=function(){var d=(0,K.$G)(["generator"]).t,a=(0,N.useState)(0),e=a[0],g=a[1],b=(0,N.useState)("original"),f=b[0],h=b[1],c=[{thumbnail:a9,original:a2,undressed:a5},{thumbnail:ba,original:a3,undressed:a6},{thumbnail:a8,original:a4,undressed:a7}];return(0,J.jsxs)("div",{className:"flex h-full w-full flex-col rounded-2xl bg-[#1a1b1d14]",children:[(0,J.jsx)("div",{className:"px-2",children:(0,J.jsx)(a$,{left:(0,J.jsx)("ul",{className:"flex flex-nowrap gap-2 overflow-hidden",children:c.map(function(b,a){return(0,J.jsx)("li",{className:"h-12 w-12 cursor-pointer rounded-xl p-0.5 ".concat(e===a&&"bg-block_selected"),onClick:function(){g(a),h("original")},children:(0,J.jsx)("div",{className:"h-full w-full rounded-xl bg-[#eff0f2]",children:(0,J.jsx)("img",{src:b.thumbnail.src,alt:"",className:"h-full w-full rounded-xl"})})},a)})})})}),(0,J.jsxs)("div",{className:"relative h-0 flex-1",children:[(0,J.jsx)("img",{src:c[e][f].src,alt:"",className:"h-full w-full rounded-[20px] object-cover object-top"}),(0,J.jsx)("div",{className:"absolute bottom-0 left-0 right-0 rounded-b-2xl p-3 xl:p-5",style:{backgroundImage:"linear-gradient(to bottom, #0000, #0000007a 50%, #000000a3)"},children:(0,J.jsxs)("div",{className:"x_btn x_btn_primary x_btn_large flex h-14 items-center gap-2 text-lg",onClick:function(){return h(function(a){return"original"===a?"undressed":"original"})},children:[(0,J.jsx)(a1,{width:24,height:24}),(0,J.jsx)("span",{children:d("undress")})]})})]})]})},bc=b()(function(){return a.e(7600).then(a.bind(a,7600))},{loadableGenerated:{webpack:function(){return[7600]}},ssr:!1}),bd=b()(function(){return a.e(7866).then(a.bind(a,7866))},{loadableGenerated:{webpack:function(){return[7866]}},ssr:!1}),be=b()(function(){return a.e(100).then(a.bind(a,100))},{loadableGenerated:{webpack:function(){return[100]}},ssr:!1}),bf=b()(function(){return a.e(6069).then(a.bind(a,9762))},{loadableGenerated:{webpack:function(){return[9762]}},ssr:!1}),bg=b()(function(){return Promise.all([a.e(9919),a.e(1830)]).then(a.bind(a,1830))},{loadableGenerated:{webpack:function(){return[1830]}},ssr:!1}),bh=b()(function(){return a.e(4239).then(a.bind(a,4239))},{loadableGenerated:{webpack:function(){return[4239]}},ssr:!1}),bi=b()(function(){return a.e(2040).then(a.bind(a,2040))},{loadableGenerated:{webpack:function(){return[2040]}},ssr:!1}),bj=function(a){var b=a.children;return(0,V.v$)(function(a){return a.inpaintEnabled},U.Z)?(0,J.jsx)("div",{className:"mt-4 h-[148vw] pb-7 xl:h-screen xl:max-h-[952px] xl:w-[480px] xl:pt-[100px]",children:(0,J.jsx)("div",{className:"fixed top-0 bottom-0 left-0 right-0 z-50 h-full w-full bg-[#f9fafc] xl:relative xl:z-10 xl:bg-transparent",children:(0,J.jsxs)("div",{className:"relative flex h-full w-full flex-col items-center bg-[#1a1b1d14] px-2 xl:rounded-2xl",children:[(0,J.jsx)("div",{className:"w-full",children:(0,J.jsx)(a$,{})}),(0,J.jsxs)("div",{className:"relative h-0 w-full flex-1 py-1",children:[b,(0,J.jsx)(a_,{})]}),(0,J.jsxs)("div",{className:"w-full",children:[(0,J.jsx)(aT,{}),(0,J.jsx)(aw,{})]}),(0,J.jsx)(bd,{}),(0,J.jsx)(bc,{}),(0,J.jsx)(be,{}),(0,J.jsx)(bf,{}),(0,J.jsx)(bh,{}),(0,J.jsx)(bi,{}),(0,J.jsx)(bg,{})]})})}):(0,J.jsx)("div",{className:"mt-4 h-[139vw] pb-7 xl:h-screen xl:max-h-[952px] xl:w-[480px] xl:pt-[100px]",children:(0,J.jsxs)("div",{className:"relative h-full w-full",children:[(0,J.jsx)(bb,{}),(0,J.jsx)(bd,{})]})})},bk=b()(function(){return Promise.all([a.e(296),a.e(2237),a.e(8686)]).then(a.bind(a,8686))},{loadableGenerated:{webpack:function(){return[8686]}},loading:function(){return(0,J.jsx)("div",{className:"flex flex-1 items-center justify-center",children:"Loading ..."})},ssr:!1}),bl=function(f){var b,e=f.isH5,g=(0,N.useRef)(null),a=(0,V.v$)(function(a){return{showCanvas:!!a.image,setNumber:a.setNumber,clear:a.clear,setBoolean:a.setBoolean}},U.Z),h=a.showCanvas,i=a.setNumber,j=a.clear,k=a.setBoolean;return b=(0,V.v$)(function(a){return a.setSettings},U.Z),(0,N.useEffect)(function(){a.apply(this,arguments);function a(){return(a=(0,c.Z)(d().mark(function a(){var c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aj();case 2:b(c=a.sent);case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}},[b]),(0,N.useEffect)(function(){i("containerWidth",g.current.offsetWidth),i("containerHeight",g.current.offsetHeight)},[i,e]),(0,N.useEffect)(function(){k("isH5",e)},[e,k]),(0,N.useEffect)(function(){return j},[j]),(0,J.jsx)("div",{className:"flex h-full w-full items-center justify-center rounded-3xl xl:bg-[#ffffff7a]",ref:g,children:h&&(0,J.jsx)(bk,{})})},bm=a(3879),bn=function(a){var b=a.slogan,c=(0,bm.Z)();return(0,J.jsx)("div",{className:"relative bg-landing",children:(0,J.jsxs)("div",{className:"desktop relative items-center px-4 pt-16 text-center xl:flex xl:gap-6 xl:px-10 xl:pt-0 xl:text-left",children:[(0,J.jsx)("div",{className:"flex-1 text-center",children:(0,J.jsx)("h2",{className:"mx-auto mb-4 text-2xl font-bold leading-none text-[#101010] xl:mb-6 xl:max-w-[60%] xl:text-5xl",children:b})}),(0,J.jsx)(bj,{children:(0,J.jsx)(bl,{isH5:c})})]})})},bo=a(6641),bp=a(219),bq=a(9924),br=a(1434),bs=a(9342),bt=b()(function(){return a.e(2186).then(a.bind(a,2186))},{loadableGenerated:{webpack:function(){return[2186]}},ssr:!1}),bu=b()(function(){return a.e(4224).then(a.bind(a,4224))},{loadableGenerated:{webpack:function(){return[4224]}},ssr:!1}),bv=b()(function(){return a.e(2279).then(a.bind(a,2279))},{loadableGenerated:{webpack:function(){return[2279]}},ssr:!1}),bw=b()(function(){return a.e(1602).then(a.bind(a,1602))},{loadableGenerated:{webpack:function(){return[1602]}},ssr:!1}),bx=function(){var a=(0,K.$G)(["deepfake"]).t,b=(0,br.f)(function(a){return a.visible},U.Z),c=(0,aa.oR)(function(a){return a.user},U.Z),d=(0,bq.Z)().upload;return(0,J.jsxs)("section",{className:"desktop flex flex-col-reverse px-4 py-6 text-black xl:flex-row xl:items-center xl:justify-between xl:gap-6 xl:px-10 xl:py-12",children:[(0,J.jsxs)("div",{className:"relative rounded-2xl bg-[#1a1b1d14]",children:[(0,J.jsx)("div",{className:"aspect-w-3 aspect-h-4 xl:w-[480px]",children:!c&&b?(0,J.jsx)(bt,{}):(0,J.jsx)("video",{src:"https://aipx.faceplay.me/deepnude/videos/deepfake.mp4",muted:!0,loop:!0,autoPlay:!0,playsInline:!0,className:"h-full w-full rounded-2xl"})}),!b&&(0,J.jsx)("div",{className:"absolute left-0 right-0 bottom-0 rounded-b-2xl p-3 xl:p-5",style:{backgroundImage:"linear-gradient(to bottom, #0000, #0000007a 50%, #000000a3)"},children:c?(0,J.jsx)("a",{className:"x_btn x_btn_primary x_btn_large flex h-14 items-center text-lg",href:"".concat(bs.E5,"?utm_source=af-adn&cp_id=login"),children:a("upload_photo")}):(0,J.jsx)(bp.Z,{onChange:function(a){return d(a,"source")},children:(0,J.jsx)("div",{className:"x_btn x_btn_primary x_btn_large flex h-14 items-center text-lg",children:a("upload_photo")})})})]}),(0,J.jsx)("div",{className:"flex-1 text-center",children:(0,J.jsx)("h2",{className:"mx-auto mb-3 text-2xl font-bold xl:mb-0 xl:max-w-[60%] xl:text-5xl",children:a("faceswap_with_ai_in_one_click")})}),(0,J.jsx)(bu,{}),(0,J.jsx)(bv,{}),(0,J.jsx)(bw,{})]})},by=!0;function bz(){var a=(0,K.$G)(["home","home-faq","seo"]).t;return(0,J.jsxs)(L.Z,{header:(0,J.jsx)(bo.Z,{placehoder:null}),navName:L.Z.NAV.HOME,children:[(0,J.jsx)(T.Z,{title:a("home.title",{ns:"seo"}),description:a("home.description",{ns:"seo"}),og:{"og:site_name":"Deep-Nude.AI","og:image:alt":"Deep-Nude.AI Generator"},pageUrl:"/"}),(0,J.jsx)("h1",{className:"hidden",children:a("home.heading_1",{ns:"seo"})}),(0,J.jsx)(bn,{slogan:a("slogan")}),(0,J.jsx)(bx,{}),(0,J.jsx)(S,{title:a("faq_title"),items:a("faqs",{ns:"home-faq",returnObjects:!0})})]})}},8910:function(e,b,a){"use strict";a.d(b,{ZP:function(){return o}});var f=a(7568),g=a(9534),c=a(4051),h=a.n(c),d=a(5683),i=a.n(d),j=a(7148),k=a(5474),l=a(5844),m=a(3043),n=a(8847);function o(a,b,c){return p.apply(this,arguments)}function p(){return(p=(0,f.Z)(h().mark(function a(b,c,d){var e,f,g,i,l,o,p,r,s,t,u,v,w,x,y,z,A;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(g=void 0!==(f=(e=d||{}).isCompress)&&f,i=e.isH5,l=void 0===i?(0,n.tq)():i,o=e.isEdit,p=void 0!==o&&o,r=e.maxSize,s=void 0===r?k.uk.MAX_IMAGE_SIZE:r,t=e.anymous,u=b,v=.5,w=k.uk.BACK_MAX_SIZE_PC,p&&u.size>w&&(v=+(w/u.size+.01).toFixed(2)),!g){a.next=10;break}return a.next=8,(0,m.e)(b,k.uk.MAX_IMAGE_WIDTH_PC,k.uk.MAX_IMAGE_HEIGHT_PC,v);case 8:x=a.sent,u=new File([x],(0,m.Z)(8),{type:x.type});case 10:if(!(u.size>s)){a.next=16;break}return(0,j.ZP)("The file cannot exceed 10 MB!"),console.log("The file cannot exceed 10 MB!"),a.next=15,(0,n._v)(2e3);case 15:return a.abrupt("return");case 16:return y=u.type.split("/")[1],z={file:u,fileType:c,extension:y},a.next=20,q(z,t);case 20:return A=a.sent,a.abrupt("return",{fileId:A,file:u});case 22:case"end":return a.stop()}},a)}))).apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){return(r=(0,f.Z)(h().mark(function a(b,c){var d,e,f,i,j,k,m,n,o,p,q;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=b.file,e=b.fileType,f=b.extension,a.next=3,(0,l.v_)("".concat(c?"/anon":"","/users/me/signatures/s3"),{fileType:e,fileSize:d.size,extension:f});case 3:if(j=(i=a.sent).data,k=i.success,m=i.errorMsg,k){a.next=9;break}return a.abrupt("return",Promise.reject(Error(m)));case 9:return n=j.url,o=j.expire,p=j.fileId,q=(0,g.Z)(j,["url","expire","fileId"]),a.next=12,(0,l.v_)(n,s(q,d,d.type));case 12:return a.abrupt("return",p);case 13:case"end":return a.stop()}},a)}))).apply(this,arguments)}function s(b,f,c){var h=b.policy,d=(0,g.Z)(b,["policy"]),a=new FormData;for(var e in c&&a.append("content-type",c),a.append("Policy",h),d)a.append(i()(e).replace("xamz","x-amz"),d[e]);return a.append("file",f),a}},3043:function(c,b,a){"use strict";a.d(b,{Z:function(){return f},e:function(){return e}});var d=a(828);function e(b,c,e,f){return new Promise(function(g,h){var i;Promise.all([a.e(5302).then(a.t.bind(a,5302,23)),a.e(7140).then(a.t.bind(a,7140,23)),a.e(9635).then(a.t.bind(a,9635,23)),a.e(8922).then(a.t.bind(a,8922,23))]).then(function(a){var g;return(i=(0,d.Z)(a,1)[0].default)(b,{maxWidth:c,maxHeight:e,canvas:!0,pixelRatio:1,downsamplingRatio:f,orientation:!0,imageSmoothingEnabled:!0,meta:!0})}).then(function(a){console.debug(a.image.width,a.image.height),a.imageHead?a.exif&&(console.debug("EXIF=".concat(a.exif[274])),i.writeExifData(a.imageHead,a,"Orientation",1)):console.debug("No image head"),a.image.toBlob(function(b){if(!b){h(Error("Empty file"));return}a.imageHead&&a.exif?i.replaceHead(b,a.imageHead,function(a){g(a)}):g(b)},"image/jpeg")}).catch(function(a){return h(a)})})}function f(d){for(var a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",b="",c=d;c>0;--c)b+=a[Math.floor(Math.random()*a.length)];return b}}},function(a){a.O(0,[4350,6089,6679,5559,9774,2888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])
